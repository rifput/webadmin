!function(a){function d(b,c,d,f,g){if(c.items.filter("li:eq("+f+")").addClass("active").siblings(".active").removeClass("active"),c.options.center){var h=a(c.items[f]);c.options.offset=Math.floor((a(".qode_image_gallery_holder").width()-h.width())/2),console.log("set offset to ",c.options.offset)}if("undefined"==typeof g&&(g="slow"),g)c.animate({scrollLeft:d-c.options.offset},g,function(){e(c)});else{c.scrollLeft(d-c.options.offset),e(c)}}function e(a){var b=a.items.filter(".active");if(b.hasClass("-before")){var c=b.prevAll().size();b.removeClass("active"),b=a.items.filter(":not(.-before):eq("+c+")").addClass("active"),a.scrollLeft(a.scrollLeft()+b.position().left-a.options.offset)}else if(b.hasClass("-after")){var c=b.prevAll(".-after").size();b.removeClass("active"),b=a.items.filter(":not(.-before):eq("+c+")").addClass("active"),a.scrollLeft(a.scrollLeft()+b.position().left-a.options.offset)}}var c={init:function(b){return b=a.extend({},a.fn.lemmonSlider.defaults,b),this.each(function(){var c=a(this),e=c.data("slider");if(!e){var f=c.find(b.slider),g=c.next().filter(".controls"),h=f.find(b.items),i=1;h.each(function(){i+=a(this).outerWidth(!0)}),f.width(i),b.slideToLast&&f.css("padding-right",c.width()),b.infinite&&(c.data("slider-infinite",!0),i=3*i,f.width(i),h.clone(!0,!0).addClass("-after").insertAfter(h.filter(":last")),h.filter(":first").before(h.clone(!0,!0).addClass("-before")),h=f.find(b.items)),c.items=h,c.options=b,d({},c,0,0,0),c.bind("nextSlide",function(e){var i=c.scrollLeft(),j=0,k=0;h.each(function(c){0==j&&a(this).position().left>b.offset&&(j=a(this).position().left,k=c)}),j>0&&f.outerWidth()-i-c.width()-1>0?d(e,c,i+j,k,"slow"):b.loop&&d(e,c,0,0,"slow")}),c.bind("prevSlide",function(e){var i=c.scrollLeft(),j=0,k=0;if(h.each(function(c){a(this).position().left<b.offset&&(j=a(this).position().left,k=c)}),j)d(e,c,i+j,k,"slow");else if(b.loop){var l=f.outerWidth()-c.width(),m=h.filter(":last").position().left;k=h.size()-1,l>m?d(e,c,m,k,"slow"):d(e,c,l,k,"slow")}}),c.bind("nextPage",function(e){var g=c.scrollLeft(),j=c.width(),k=0,l=0;h.each(function(b){a(this).position().left<j&&(k=a(this).position().left,l=b)}),k>0&&g+j+1<i?d(e,c,g+k,l,"slow"):b.loop&&d(e,c,0,0,"slow")}),c.bind("prevPage",function(e){var i=c.scrollLeft(),j=c.width(),k=0;if(h.each(function(b){a(this).position().left<1-j&&(k=a(this).next().position().left,slide=b)}),i)0==k?d(e,c,0,0,"slow"):d(e,c,i+k,slide,"slow");else if(b.loop){var l=f.outerWidth()-c.width(),m=h.filter(":last").position().left;l>m?c.animate({scrollLeft:m},"slow"):c.animate({scrollLeft:l},"slow")}}),c.bind("slideTo",function(a,b,e){d(a,c,c.scrollLeft()+h.filter(":eq("+b+")").position().left,b,e)}),g.find(".next-slide").click(function(){return c.trigger("nextSlide"),!1}),g.find(".prev-slide").click(function(){return c.trigger("prevSlide"),!1}),g.find(".next-page").click(function(){return c.trigger("nextPage"),!1}),g.find(".prev-page").click(function(){return c.trigger("prevPage"),!1}),c.data("slider",{target:c,options:b})}})},addItem:function(b){{var b=a.extend({},a.fn.lemmonSlider.defaults,b),d=a(this),e=d.find(b.slider);d.next().filter(".controls"),e.find(b.items)}return b.infinite=d.data("slider-infinite"),b.item?(c.destroy.apply(this),b.prepend?e.prepend(b.item):e.append(b.item),void c.init.apply(this,[b])):!1},destroy:function(){return this.each(function(){{var b=a(this),c=b.next().filter(".controls"),d=b.find("> *:first > *");b.data("slider")}b.unbind("nextSlide"),b.unbind("prevSlide"),b.unbind("nextPage"),b.unbind("prevPage"),b.unbind("slideTo"),c.find(".next-slide").unbind("click"),c.find(".prev-slide").unbind("click"),c.find(".next-page").unbind("click"),c.find(".next-page").unbind("click"),b.removeData("slider"),b.data("slider-infinite")&&a.merge(d.filter(".-before"),d.filter(".-after")).each(function(b,c){a(c).remove()})})}};a.fn.lemmonSlider=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.lemmonSlider"):c.init.apply(this,arguments)},a.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!0,center:!0,offset:0}}(jQuery);
